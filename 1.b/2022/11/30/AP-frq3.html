<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>FRQ3 - Array/ArrayList | APCSA</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="FRQ3 - Array/ArrayList" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Relationship of FRQ 3 to a Project Based learning exercise." />
<meta property="og:description" content="Relationship of FRQ 3 to a Project Based learning exercise." />
<link rel="canonical" href="https://nighthawkcoders.github.io/APCSA/1.b/2022/11/30/AP-frq3.html" />
<meta property="og:url" content="https://nighthawkcoders.github.io/APCSA/1.b/2022/11/30/AP-frq3.html" />
<meta property="og:site_name" content="APCSA" />
<meta property="og:image" content="https://nighthawkcoders.github.io/APCSA/images/frqs.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-30T00:00:00-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://nighthawkcoders.github.io/APCSA/images/frqs.png" />
<meta property="twitter:title" content="FRQ3 - Array/ArrayList" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-30T00:00:00-06:00","datePublished":"2022-11-30T00:00:00-06:00","description":"Relationship of FRQ 3 to a Project Based learning exercise.","headline":"FRQ3 - Array/ArrayList","image":"https://nighthawkcoders.github.io/APCSA/images/frqs.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://nighthawkcoders.github.io/APCSA/1.b/2022/11/30/AP-frq3.html"},"url":"https://nighthawkcoders.github.io/APCSA/1.b/2022/11/30/AP-frq3.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/APCSA/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://nighthawkcoders.github.io/APCSA/feed.xml" title="APCSA" /><link rel="shortcut icon" type="image/x-icon" href="/APCSA/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/APCSA/">APCSA</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/APCSA/schedule">Schedule</a><a class="page-link" href="/APCSA/frontend/overview">Frontend</a><a class="page-link" href="/APCSA/api/overview">API</a><a class="page-link" href="/APCSA/search/">Search</a><a class="page-link" href="/APCSA/categories/ap">AP Standards</a><a class="page-link" href="/APCSA/categories/cte">CTE Standards</a><a class="page-link" href="/APCSA/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">FRQ3 - Array/ArrayList</h1><p class="page-description">Relationship of FRQ 3 to a Project Based learning exercise.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-11-30T00:00:00-06:00" itemprop="datePublished">
        Nov 30, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      10 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
          <a class="category-tags-link" href="/APCSA/categories/ap#1.B">1.B</a>
        
        
      
      </p>
    

    
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#Calculator">Calculator </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Operators-and-Precedence">Operators and Precedence </a></li>
<li class="toc-entry toc-h3"><a href="#Organizing-an-Expression">Organizing an Expression </a></li>
<li class="toc-entry toc-h3"><a href="#Expression-Evaluation">Expression Evaluation </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Calculator-Theory">Calculator Theory </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Term-Tokenizer">Term Tokenizer </a></li>
<li class="toc-entry toc-h3"><a href="#String-to-Tokens">String to Tokens </a></li>
<li class="toc-entry toc-h3"><a href="#Tokens-to-RPN">Tokens to RPN </a></li>
<li class="toc-entry toc-h3"><a href="#RPN-to-Result">RPN to Result </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Driver-/-Tester">Driver / Tester </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Output-Examples">Output Examples </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Hacks">Hacks </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-11-30-AP-frq3.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Calculator">
<a class="anchor" href="#Calculator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Calculator<a class="anchor-link" href="#Calculator"> </a>
</h2>
<blockquote>
<p>Helping a computer interpret a Mathematical expression is a derivation of FRQ3 that involves using ArrayLists, Stack, and Map.  These are key data structures that exist in Java.  To obtain a deeper understanding of ArrayList, or its List interface, it is to use it in many applications.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Operators-and-Precedence">
<a class="anchor" href="#Operators-and-Precedence" aria-hidden="true"><span class="octicon octicon-link"></span></a>Operators and Precedence<a class="anchor-link" href="#Operators-and-Precedence"> </a>
</h3>
<blockquote>
<p>To support mathematical expressions you need to define Unique List of operators that are supported by your Calculator.</p>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Helper definition to define operators, lookup in MAP are fast and easy O(1) versus ArrayList O(n)</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">OPERATORS</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="p">{</span>
    <span class="c1">// Map&lt;"token", precedence&gt;</span>
    <span class="n">OPERATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"*"</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">OPERATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"/"</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">OPERATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"%"</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">OPERATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"+"</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
    <span class="n">OPERATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"-"</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Organizing-an-Expression">
<a class="anchor" href="#Organizing-an-Expression" aria-hidden="true"><span class="octicon octicon-link"></span></a>Organizing an Expression<a class="anchor-link" href="#Organizing-an-Expression"> </a>
</h3>
<blockquote>
<p>To support terms in mathematical expression you need to define symbols (other than operators) that help delineate the elements of an expression.  Ultimately, the String expression will be broken in distinct elements in a List, we will call each element a Token.</p>
</blockquote>
<ul>
<li>
<p>FRQ3 calls these delimiters. <strong><em>Many encoded strings contain delimiters. A delimiter is a non-empty string that acts as a boundary between different parts of a larger string. The delimiters involved in this question occur in pairs that must be balanced,with each pair having an open delimiter and a close delimiter.</em></strong></p>
</li>
<li>
<p>FRQ3 mentions expressions. Expressions in mathematics use open parentheses "(" and close parentheses ")" as delimiters. For each open parenthesis, there must be a matching close parenthesis.</p>
<ul>
<li>(x + y) * 5 is a valid mathematical expression.</li>
<li>(x + (y) is NOT a valid mathematical expression because there are more open delimiters than close delimiters.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Helper definition for supported separators</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">SEPARATORS</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="p">{</span>
    <span class="c1">// Map&lt;"separator", not_used&gt;</span>
    <span class="n">SEPARATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">SEPARATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">"("</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">SEPARATORS</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">")"</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Expression-Evaluation">
<a class="anchor" href="#Expression-Evaluation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expression Evaluation<a class="anchor-link" href="#Expression-Evaluation"> </a>
</h3>
<p>To detect operators and separators in the String expression, requires test functions to detect the tokens. These methods will assist in establishing Control Flow in evaluating the expression.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Test if token is an operator</span>
<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isOperator</span><span class="p">(</span><span class="n">String</span> <span class="n">token</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// find the token in the hash map</span>
    <span class="k">return</span> <span class="n">OPERATORS</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Test if token is an separator</span>
<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isSeparator</span><span class="p">(</span><span class="n">String</span> <span class="n">token</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// find the token in the hash map</span>
    <span class="k">return</span> <span class="n">SEPARATORS</span><span class="p">.</span><span class="na">containsKey</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Compare precedence of operators.</span>
<span class="kd">private</span> <span class="n">Boolean</span> <span class="nf">isPrecedent</span><span class="p">(</span><span class="n">String</span> <span class="n">token1</span><span class="p">,</span> <span class="n">String</span> <span class="n">token2</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// token 1 is precedent if it is greater than token 2</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">OPERATORS</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">token1</span><span class="p">)</span> <span class="o">-</span> <span class="n">OPERATORS</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">token2</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Calculator-Theory">
<a class="anchor" href="#Calculator-Theory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Calculator Theory<a class="anchor-link" href="#Calculator-Theory"> </a>
</h2>
<blockquote>
<p>Mathematical expression written by humans are in the form of a String Expression.  Since this expression is simply a string to the computer...  an algorithm is required to reform the equation for the computer to ensure it interprets expression according to the rules of mathematics.</p>
<ul>
<li>In mathematics, an expression or mathematical expression is a finite combination of symbols that is well-formed (ie "100 + 200").</li>
<li>In computers, a string expression is hard to calculate.  Thus, the expression needs to be restructured according to rules of Mathematics that a computer can calculate.  For instance, the order of precedence rules, aka PEMDAS (parenthesis, exponents, multiplication, division, addition, subtraction) need to be factored into order of computation. To support these rules, in computer math we often convert a String expression into Reverse Polish Notation (RPN).  This converts a simple string like "3 + 4" to become ["100", "200", "+"]) using the Shunting-yard algorithm.</li>
</ul>
<p>String expression to calculation will need  a flow of control.   A Class (aka model) is defined with instance variables, one argument constructor, and a toString.  In this code, the flow is in the Calculator calculation is contained in the constructor.</p>
<ul>
<li>Capture original input</li>
<li>Parse expression into mathematical terms</li>
<li>If using Shunting-yard algorithm, place terms into RPN</li>
<li>Calculate RPN to a result</li>
</ul>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Key instance variables</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">expression</span><span class="p">;</span>
<span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">tokens</span><span class="p">;</span>
<span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">reverse_polish</span><span class="p">;</span>
<span class="kd">private</span> <span class="n">Double</span> <span class="n">result</span><span class="p">;</span>


<span class="c1">// Create a 1 argument constructor providing a mathematical expression</span>
    <span class="kd">public</span> <span class="nf">Calculator</span><span class="p">(</span><span class="n">String</span> <span class="n">expression</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// original input</span>
        <span class="k">this</span><span class="p">.</span><span class="na">expression</span> <span class="o">=</span> <span class="n">expression</span><span class="p">;</span>

        <span class="c1">// parse expression into terms</span>
        <span class="k">this</span><span class="p">.</span><span class="na">termTokenizer</span><span class="p">();</span>

        <span class="c1">// place terms into reverse polish notation</span>
        <span class="k">this</span><span class="p">.</span><span class="na">tokensToReversePolishNotation</span><span class="p">();</span>

        <span class="c1">// calculate reverse polish notation</span>
        <span class="k">this</span><span class="p">.</span><span class="na">rpnToResult</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">// Print the expression, terms, and result</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">"Original expression: "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">expression</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
                <span class="s">"Tokenized expression: "</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="na">tokens</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
                <span class="s">"Reverse Polish Notation: "</span> <span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="na">reverse_polish</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span>
                <span class="s">"Final result: "</span> <span class="o">+</span> <span class="n">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">"%.2f"</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="na">result</span><span class="p">));</span>
    <span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Term-Tokenizer">
<a class="anchor" href="#Term-Tokenizer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Term Tokenizer<a class="anchor-link" href="#Term-Tokenizer"> </a>
</h3>
<blockquote>
<p>FRQ3 talks about changing terms to tokens. A string containing text and possibly delimiters has been split into tokens and stored in String[] tokens. Each token is either an open delimiter, a close delimiter, or a substring that is not a delimiter. You will write the method getDelimitersList, which returns an ArrayList containing all the open and close delimiters found in tokens in their original order.</p>

<pre><code>- openDel:"("    - closeDel: ")"
- tokens: "(" "100 + 200" ")" " * 3"
- ArrayList of delimiters: "(" ")"
</code></pre>
<p>The method termTokenizer() is used to change the String expression into a series of tokens that constitute distinct elements of a Mathematical expression.  The result is retained in the ArrayList "tokens".  Every token, including parenthesis, is an element in the "tokens" ArrayList.</p>

<pre><code>- Example 1:Simple Math        - Original expression: 100 + 200  * 3
    - tokens ArrayList: [100, +, 200, *, 3]
- Example 2: Parenthesis Math to change order of operations
    - Original expression: (100 + 200)  * 3
    - tokens ArrayList: [(, 100, +, 200, ), *, 3]</code></pre>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="String-to-Tokens">
<a class="anchor" href="#String-to-Tokens" aria-hidden="true"><span class="octicon octicon-link"></span></a>String to Tokens<a class="anchor-link" href="#String-to-Tokens"> </a>
</h3>
<blockquote>
<p>Before Tokenizer there is a String.  During tokenization the Chars of the String are made into mathematical tokens.</p>
<ul>
<li>Simple Math<ul>
<li>String:"100+200<em>3"    - Tokens: "100", "+", "200", "</em>", "3"</li>
</ul>
</li>
</ul>
</blockquote>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Term Tokenizer takes original expression and converts it to ArrayList of tokens</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">termTokenizer</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// contains final list of tokens</span>
    <span class="k">this</span><span class="p">.</span><span class="na">tokens</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

    <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1">// term split starting index</span>
    <span class="n">StringBuilder</span> <span class="n">multiCharTerm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">();</span>    <span class="c1">// term holder</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="na">expression</span><span class="p">.</span><span class="na">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Character</span> <span class="n">c</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="na">expression</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">isOperator</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span> <span class="p">)</span> <span class="o">||</span> <span class="n">isSeperator</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">toString</span><span class="p">())</span>  <span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 1st check for working term and add if it exists</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">multiCharTerm</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">tokens</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">expression</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">i</span><span class="p">));</span>
            <span class="p">}</span>
            <span class="c1">// Add operator or parenthesis term to list</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">!=</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">tokens</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
            <span class="p">}</span>
            <span class="c1">// Get ready for next term</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
            <span class="n">multiCharTerm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// multi character terms: numbers, functions, perhaps non-supported elements</span>
            <span class="c1">// Add next character to working term</span>
            <span class="n">multiCharTerm</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">}</span>
    <span class="c1">// Add last term</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">multiCharTerm</span><span class="p">.</span><span class="na">length</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">tokens</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">expression</span><span class="p">.</span><span class="na">substring</span><span class="p">(</span><span class="n">start</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Tokens-to-RPN">
<a class="anchor" href="#Tokens-to-RPN" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tokens to RPN<a class="anchor-link" href="#Tokens-to-RPN"> </a>
</h3>
<blockquote>
<p>Before calculation the tokens need to be turned into RPN.  This puts math in left to right order and resolves order of operations.</p>
</blockquote>
<ul>
<li>Simple Math.<ul>
<li>Tokens:"100", "+", "200", "<em>", "3"    - RPN: "100", "200", "3", "</em>", "+"</li>
</ul>
</li>
</ul>
<ul>
<li>Parenthesis Math. Note RPN difference<ul>
<li>Tokens: "(", "100}, "+", "200", ")",  "*", "3"</li>
<li>RPN: "100", "200", "+", "3", "*"</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Takes tokens and converts to Reverse Polish Notation (RPN).</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">tokensToReversePolishNotation</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// contains final list of tokens in RPN</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">reverse_polish</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

    <span class="c1">// stack is used to reorder for appropriate grouping and precedence</span>
    <span class="n">Stack</span> <span class="n">tokenStack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">token</span> <span class="p">:</span> <span class="n">tokens</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// If left bracket push token on to stack</span>
            <span class="k">case</span> <span class="s">"("</span><span class="p">:</span>
                <span class="n">tokenStack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="s">")"</span><span class="p">:</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"("</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">reverse_polish</span><span class="p">.</span><span class="na">add</span><span class="p">(</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">pop</span><span class="p">()</span> <span class="p">);</span>
                <span class="p">}</span>
                <span class="n">tokenStack</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="s">"+"</span><span class="p">:</span>
            <span class="k">case</span> <span class="s">"-"</span><span class="p">:</span>
            <span class="k">case</span> <span class="s">"*"</span><span class="p">:</span>
            <span class="k">case</span> <span class="s">"/"</span><span class="p">:</span>
            <span class="k">case</span> <span class="s">"%"</span><span class="p">:</span>
                <span class="c1">// While stack</span>
                <span class="c1">// not empty AND stack top element</span>
                <span class="c1">// and is an operator</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">isOperator</span><span class="p">((</span><span class="n">String</span><span class="p">)</span> <span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">()))</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span> <span class="n">isPrecedent</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="p">))</span> <span class="p">{</span>
                        <span class="n">reverse_polish</span><span class="p">.</span><span class="na">add</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">pop</span><span class="p">());</span>
                        <span class="k">continue</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="c1">// Push the new operator on the stack</span>
                <span class="n">tokenStack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="p">:</span>    <span class="c1">// Default should be a number, there could be test here</span>
                <span class="k">this</span><span class="p">.</span><span class="na">reverse_polish</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// Empty remaining tokens</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">reverse_polish</span><span class="p">.</span><span class="na">add</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="n">tokenStack</span><span class="p">.</span><span class="na">pop</span><span class="p">());</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="RPN-to-Result">
<a class="anchor" href="#RPN-to-Result" aria-hidden="true"><span class="octicon octicon-link"></span></a>RPN to Result<a class="anchor-link" href="#RPN-to-Result"> </a>
</h3>
<blockquote>
<p>Below is setup/pseudo code to produce a result.  This is opportunity to learn about a Stack, by adding and removing elements from the stack according to intermediate and final results.</p>
</blockquote>
<p>During calculation algorithm will work through RPN, Left to Right.  1. go to first operator, 2. obtain to the amount of operands required for operator, 3. solve, 4. push result</p>
<ul>
<li>
<p>Simple Math.</p>
<ul>
<li>RPN:"100", "200", "3", "*", "+"    - calcStack Step 1: [100]</li>
<li>calcStack Step 2 [200, 100]</li>
<li>calcStack Step 3 [3, 200, 100]</li>
<li>calcStack Step 4 [600, 100]</li>
<li>
<p>calcStack Step 5 [700]</p>
<p>result = 700  # final pop</p>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-java"><pre><span></span><span class="c1">// Takes RPN and produces a final result</span>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">rpnToResult</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// stack is used to hold operands and each calculation</span>
    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">calcStack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span><span class="p">();</span>

    <span class="c1">// RPN is processed, ultimately calcStack has final result</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">token</span> <span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="na">reverse_polish</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// If the token is an operator, calculate</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">isOperator</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="c1">// Pop the two top entries</span>

            <span class="c1">// Calculate intermediate results</span>
            <span class="n">result</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>

            <span class="c1">// Push intermediate result back onto the stack</span>
            <span class="n">calcStack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span> <span class="n">result</span> <span class="p">);</span>
        <span class="p">}</span>
        <span class="c1">// else the token is a number push it onto the stack</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">calcStack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">token</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// Pop final result and set as final result for expression</span>
    <span class="k">this</span><span class="p">.</span><span class="na">result</span> <span class="o">=</span> <span class="n">calcStack</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Driver-/-Tester">
<a class="anchor" href="#Driver-/-Tester" aria-hidden="true"><span class="octicon octicon-link"></span></a>Driver / Tester<a class="anchor-link" href="#Driver-/-Tester"> </a>
</h2>
<blockquote>
<p>A Class should always have a driver for testing.  In a driver for expressions, you will need to consider multiple conditions, for instance changes with precedence...</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Output-Examples">
<a class="anchor" href="#Output-Examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Output Examples<a class="anchor-link" href="#Output-Examples"> </a>
</h3>
<blockquote>
<p>Here are sample outputs for the calculator</p>
</blockquote>
<div class="highlight"><pre><span></span>Simple Math
Original expression:100 + 200  * 3Tokenized expression: [100, +, 200, *, 3]
Reverse Polish Notation: [100, 200, 3, *, +]
Final result: 700.00

Parenthesis Math
Original expression: (100 + 200)  * 3
Tokenized expression: [(, 100, +, 200, ), *, 3]
Reverse Polish Notation: [100, 200, +, 3, *]
Final result: 900.00

Decimal Math
Original expression: 100.2 - 99.3
Tokenized expression: [100.2, -, 99.3]
Reverse Polish Notation: [100.2, 99.3, -]
Final result: 0.90

Modulo Math
Original expression: 300 % 200
Tokenized expression: [300, %, 200]
Reverse Polish Notation: [300, 200, %]
Final result: 100.00

Division Math
Original expression: 300/200
Tokenized expression: [300, /, 200]
Reverse Polish Notation: [300, 200, /]
Final result: 1.50
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Hacks">
<a class="anchor" href="#Hacks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hacks<a class="anchor-link" href="#Hacks"> </a>
</h2>
<blockquote>
<p>Build a calculator to process expressions and ultimately change RPN to a calculation.</p>
<ol>
<li>Finish rpnToResult for Calculator</li>
<li>Add unbalanced parenthesis check and in original FRQ, or other error checks.  FYI, usually when structuring code with error checking it can greatly impact code structure. </li>
<li>Build in Power of operator ^:2 ^ 1 = 2, 2 ^ 2 = 4, 2 ^ 3 = 83. Build an API to receive an expression and respond with a result.  This is a good opportunity to respond with an error if you built in parenthesis or other error checking.</li>
</ol>
<p>Advanced. Deeper parsing and evaluation.</p>
<ul>
<li>Try adding single argument function SQRT.  This should be combined with ()'s to make sense, SQRT(expression).  Though "SQRT 1" could work.</li>
<li>Build variable into expression "a = 3; b + 4; SQRT(a^2 + b^2)".  Hint... build a HashMap for variables.</li>
<li>At this point you probably have Physics and Calculus possibilities for managing and modeling equations.</li>
</ul>
<p>Advanced. Deployment and Frontend.</p>
<ul>
<li>Deploy all of your APIs to Team Backend repo.</li>
<li>Start making Frontend pages to interact with APIs.</li>
</ul>
<p>Advanced.  Try other evaluations or use cases of parsing Strings to Tokens.</p>
<ul>
<li>Make a Tokenizer for sentences to words.</li>
<li>Count words, count punctuation.</li>
<li>Find definitions for Words or Translations.</li>
</ul>
<p>Basic Skill building, do FRQ3.  FYI, isBalanced could help in error corrections for Calculator.</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Delimiters</span>
<span class="kd">private</span> <span class="n">String</span> <span class="n">openDel</span>
<span class="kd">private</span> <span class="n">String</span> <span class="n">closeDel</span>
<span class="kd">public</span> <span class="nf">Delimiters</span><span class="p">(</span><span class="n">String</span> <span class="n">open</span><span class="p">,</span> <span class="n">String</span> <span class="n">close</span><span class="p">)</span>
<span class="kd">public</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getDelimitersList</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">tokens</span><span class="p">)</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isBalanced</span><span class="p">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">delimiters</span><span class="p">)</span>
</pre></div>
</blockquote>

</div>
</div>
</div>
</div>



  </div><a class="u-url" href="/APCSA/1.b/2022/11/30/AP-frq3.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/APCSA/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/APCSA/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/APCSA/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>AP Computer Science A</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://github.com/nighthawkcoders" target="_blank" title="github">
    <svg class="svg-icon grey">
      <use xlink:href="/APCSA/assets/minima-social-icons.svg#github"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://twitter.com/NighthawkCoding" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/APCSA/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
<li>
  <a rel="me" href="https://www.youtube.com/channel/UClIKOsDS5dsfzFA3zveDT3Q" target="_blank" title="youtube">
    <svg class="svg-icon grey">
      <use xlink:href="/APCSA/assets/minima-social-icons.svg#youtube"></use>
    </svg>
  </a>
</li>
</ul>
</div>

  </div>

</footer>
</body>

</html>
